(function(t){var a="xtr";var i={"default":"en",lang:"en",regExp:{"":/\s/g,_:/[&<>"'`\/=]/g}};var e={defaultClass:"data-xtr-default",langClass:"data-xtr-lang",langKey:"data-xtr-key",langOrig:"data-xtr-original"};function n(a,n){n=n||{};this.$element=t(a);this.options=t.extend(true,{},i,n);this.selector="[xtr]";this.regExp=this.options.regExp;this.default=this.options.default;this.t=this.options.t;this.l=this.options.lang;this.$element.attr(e.langClass,this.l).attr(e.defaultClass,this.default);this.init()}n.prototype.lang=function(t){if(t&&t==="reset"){this.l=this.default}else if(t){this.l=t}this.init()};n.prototype.set=function(a){var i=t("["+e.langKey+'="'+a+'"]');var n=i&&i.attr(e.langOrig)||a;return this.t[a]&&this.t[a][this.l]?this.t[a][this.l]:n};n.prototype.init=function(){var a=this;this.$element.attr(e.langClass,this.l);t(a.selector).add("["+e.langKey+"]").each(function(){var i=t(this);var n=i.attr(e.langKey);var s=i.attr(e.langOrig);var r=i.text();if(!n){n=r;for(var l in a.regExp){n=n.replace(a.regExp[l],l)}i.attr(e.langKey,n)}if(!s){i.attr(e.langOrig,r)}i.html(a.set(n))})};t.fn[a]=function(i){return this.each(function(){if(!t.data(this,"plugin_"+a)){t.data(this,"plugin_"+a,new n(this,i))}})}})(jQuery);